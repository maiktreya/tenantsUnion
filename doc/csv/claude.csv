Table Name,Column Name,Data Type,Constraints,Foreign Key Reference
users,id,SERIAL,"PRIMARY KEY",""
users,code,VARCHAR(20),"NOT NULL, UNIQUE",""
users,password,VARCHAR(150),"NOT NULL",""
users,first_name,VARCHAR(150),"NOT NULL",""
users,last_name,VARCHAR(150),"NOT NULL",""
users,email,VARCHAR(150),"NOT NULL, UNIQUE",""
users,phone,VARCHAR(20),"CHECK (phone ~ '^\+?[0-9\s\-\(\)]+$')",""
users,default_group_id,INTEGER,"NOT NULL",""
users,is_active,BOOLEAN,"NOT NULL DEFAULT TRUE",""
users,created_at,TIMESTAMP,"NOT NULL DEFAULT CURRENT_TIMESTAMP",""
users,updated_at,TIMESTAMP,"NOT NULL DEFAULT CURRENT_TIMESTAMP",""
groups,id,SERIAL,"PRIMARY KEY",""
groups,code,VARCHAR(20),"NOT NULL, UNIQUE",""
groups,title,VARCHAR(150),"NOT NULL",""
groups,is_active,BOOLEAN,"NOT NULL DEFAULT TRUE",""
groups,created_at,TIMESTAMP,"NOT NULL DEFAULT CURRENT_TIMESTAMP",""
roles,id,SERIAL,"PRIMARY KEY",""
roles,code,VARCHAR(20),"NOT NULL, UNIQUE",""
roles,title,VARCHAR(150),"NOT NULL",""
roles,is_active,BOOLEAN,"NOT NULL DEFAULT TRUE",""
roles,created_at,TIMESTAMP,"NOT NULL DEFAULT CURRENT_TIMESTAMP",""
role_permissions,id,SERIAL,"PRIMARY KEY",""
role_permissions,role_id,INTEGER,"NOT NULL","roles(id)"
role_permissions,permission,VARCHAR(50),"NOT NULL",""
role_permissions,operation,VARCHAR(50),"NOT NULL",""
role_permissions,level,VARCHAR(1),"",""
role_permissions,created_at,TIMESTAMP,"NOT NULL DEFAULT CURRENT_TIMESTAMP",""
user_groups,user_id,INTEGER,"NOT NULL","users(id)"
user_groups,group_id,INTEGER,"NOT NULL","groups(id)"
user_groups,created_at,TIMESTAMP,"NOT NULL DEFAULT CURRENT_TIMESTAMP",""
user_groups,PRIMARY KEY,N/A,"(user_id, group_id)",""
user_roles,user_id,INTEGER,"NOT NULL","users(id)"
user_roles,role_id,INTEGER,"NOT NULL","roles(id)"
user_roles,created_at,TIMESTAMP,"NOT NULL DEFAULT CURRENT_TIMESTAMP",""
user_roles,PRIMARY KEY,N/A,"(user_id, role_id)",""
audit_log,id,BIGSERIAL,"PRIMARY KEY",""
audit_log,table_name,VARCHAR(100),"NOT NULL",""
audit_log,record_id,INTEGER,"NOT NULL",""
audit_log,operation,VARCHAR(10),"NOT NULL CHECK (operation IN ('INSERT', 'UPDATE', 'DELETE'))",""
audit_log,user_id,INTEGER,"","users(id)"
audit_log,changed_at,TIMESTAMP,"NOT NULL DEFAULT CURRENT_TIMESTAMP",""
audit_log,old_values,JSONB,"",""
audit_log,new_values,JSONB,"",""
audit_log,ip_address,INET,"",""
audit_log,user_agent,TEXT,"",""
provinces,id,SERIAL,"PRIMARY KEY",""
provinces,code,VARCHAR(2),"NOT NULL, UNIQUE",""
provinces,name,VARCHAR(100),"NOT NULL",""
municipalities,id,SERIAL,"PRIMARY KEY",""
municipalities,name,VARCHAR(200),"NOT NULL",""
municipalities,province_id,INTEGER,"NOT NULL","provinces(id)"
municipalities,UNIQUE,N/A,"(name, province_id)",""
addresses,id,SERIAL,"PRIMARY KEY",""
addresses,street_name,VARCHAR(200),"",""
addresses,street_number,VARCHAR(20),"",""
addresses,floor,VARCHAR(10),"",""
addresses,door,VARCHAR(10),"",""
addresses,complement,VARCHAR(50),"",""
addresses,postal_code,VARCHAR(10),"",""
addresses,municipality_id,INTEGER,"","municipalities(id)"
addresses,google_place_id,VARCHAR(100),"",""
addresses,full_address,TEXT,"NOT NULL",""
addresses,coordinates,POINT,"",""
addresses,created_at,TIMESTAMP,"NOT NULL DEFAULT CURRENT_TIMESTAMP",""
addresses,updated_at,TIMESTAMP,"NOT NULL DEFAULT CURRENT_TIMESTAMP",""